<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.sofency.ssm.mapper.CandidateCustomMapper">
	<resultMap id="BaseResultMap" type="com.sofency.ssm.pojo.Candidate">
		<!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Mon Mar 30 21:31:26 CST 2020.
        -->
		<id column="candidate_id" jdbcType="INTEGER" property="candidateId" />
		<result column="inst_id" jdbcType="INTEGER" property="instId" />
		<result column="major_id" jdbcType="INTEGER" property="majorId" />
		<result column="candidate_name" jdbcType="VARCHAR" property="candidateName" />
		<result column="candidate_sex" jdbcType="CHAR" property="candidateSex" />
		<result column="candidate_tel" jdbcType="VARCHAR" property="candidateTel" />
		<result column="candidate_email" jdbcType="VARCHAR" property="candidateEmail" />
		<result column="candidate_introduce" jdbcType="VARCHAR" property="candidateIntroduce" />
		<result column="candidate_fame" jdbcType="VARCHAR" property="candidateFame" />
		<result column="candidate_status" jdbcType="TINYINT" property="candidateStatus" />
	</resultMap>
	  
	  <resultMap id="candidateCustomExample" type="com.sofency.ssm.pojo.CandidateCustomExample" extends="BaseResultMap">
	    <result column="inst_name" property="instName" jdbcType="VARCHAR" />
   		<result column="major_name" property="majorName" jdbcType="VARCHAR" />
	  </resultMap>
		<!-- 分页查找 -->
	  <select id="findInfoByPage" parameterType="Integer" resultMap="BaseResultMap">
	        select * from candidate limit #{page},4
	  </select>
	  <select id="getInfoById" parameterType="Integer" resultMap="candidateCustomExample">
	        select candidate_id,candidate_name,candidate_sex,candidate_tel,candidate_email,candidate_introduce,candidate_fame,inst_name,major_name
	         from candidate,institute,major
	         where candidate.inst_id = major.inst_id
	         and candidate.major_id = major.major_id and institute.inst_id = major.inst_id
	         and candidate_id=#{candidateId}
	  </select>
</mapper>
